<h2>Компоненты и пропсы</h2>

<ul class="list-point">
	<li><bg-define>Компоненты</bg-define> - позволяют разбить интерфейс на независимые части, про которые легко думать в отдельности. Их можно складывать вместе и использовать несколько раз</li>
	<li>Во многом компоненты ведут себя как обычные функции JavaScript. Они принимают произвольные входные данные («<u>пропсы</u>») и возвращают React-элементы, описывающие, что мы хотим увидеть на экране</li>
	<li>Принцип единственной ответственности: каждый компонент по-хорошему должен заниматься какой-то одной задачей</li>
	
	<hr>
	<li><bg-define>Умные компоненты</bg-define> - делают что-то с данными и работают со стором</li>
	<ul class="list-point">
		<li><b>Название директории: </b>containers</li>
		<li><b>Реализация: </b>классы</li>
		<li><b>Наличие state: </b>да</li>
	</ul>

	<li><bg-define>Глупые компоненты</bg-define> - получают данные и их отрисовывают</li>
	<ul class="list-point">
		<li><b>Название директории: </b>components</li>
		<li><b>Реализация: </b>функции</li>
		<li><b>Наличие state: </b>нет</li>
	</ul>

	<hr>
	<li><bg-define>Пропсы</bg-define> - это способ передачи данных от родителя к потомку</li>
	<li>Пропсы можно только читать. React-компоненты обязаны вести себя как чистые функции по отношению к своим пропсам (не должен что-то записывать в свои пропсы)</li>
	<li>Компоненты могут принимать произвольные пропсы, включая примитивные значения, React-элементы или функции</li>
</ul>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Функциональные и классовые компоненты</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<div class="container-flex"><div class="container-half">
<b>Функциональные</b>
<pre><code class="js">
function Welcome(props) {
	return &lt;h1&gt;Привет, {props.name}&lt;/h1&gt;;
}
</code></pre>
<ul class="list-point">
	<li>Эта функция - компонент, потому что она получает данные в одном объекте («пропсы») в качестве параметра и возвращает React-элемент</li>
</ul>
</div><div class="container-half">
<b>Классовые</b>
<pre><code class="js">
class Welcome extends React.Component {
	render() {
		return &lt;h1&gt;Привет, {this.props.name}&lt;/h1&gt;;
	}
}
</code></pre>
</div></div>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Рендеринг</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<ul class="list-point">
	<li>Элементы могут описывать и наши собственные компоненты</li>
	<li>Когда React встречает подобный элемент, он собирает все JSX-атрибуты в один объект и передаёт их нашему компоненту. Этот объект называется <u>«пропсы» (props)</u></li>
</ul>

<pre><code class="js">
function Welcome(props) {
	return &lt;h1&gt;Привет, {props.name}&lt;/h1&gt;;
}

const element = &lt;Welcome name="Алиса" /&gt;;
ReactDOM.render(element, document.getElementById('root'));
</code></pre>

<ol class="list-num">
	<li>Мы передаём React-элемент <code class="txt">&lt;Welcome name="Алиса" /&gt;</code> в <code class="txt">ReactDOM.render()</code></li>
	<li>React вызывает наш компонент <code class="txt">Welcome</code> с пропсами <code class="txt">{name: 'Алиса'}</code></li>
	<li>Наш компонент <code class="txt">Welcome</code> возвращает элемент <code class="txt">&lt;h1&gt;Привет, Алиса&lt;/h1&gt;</code> в качестве результата</li>
	<li>React DOM делает минимальные изменения в DOM, чтобы получилось <code class="txt">&lt;h1&gt;Привет, Алиса&lt;/h1&gt;</code></li>
</ol>

<alert-info>
	Всегда называйте компоненты с заглавной буквы. Если компонент начинается с маленькой буквы, React принимает его за DOM-тег. Например, <code class="txt">&lt;div /&gt;</code> это div-тег из HTML, а <code class="txt">&lt;Welcome /&gt;</code> это уже наш компонент <code class="txt">Welcome</code>, который должен быть в области видимости
</alert-info>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Классовые компоненты jsx/js</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<div class="container-flex"><div class="container-half"><pre><code class="js"><code-type>jsx</code-type>
class App extends React.Component {
	render() {
		return &lt;button&gt;Кнопка&lt;/button&gt;;
	}
}
ReactDOM.render(
	&lt;App /&gt;, 
	document.getElementById('root')
);
</code></pre></div><div class="container-half"><pre><code class="js"><code-type>js</code-type>
const e = React.<bg-code>createElement</bg-code>;
class App extends React.Component {
	render() {
		return <bg-code>e</bg-code>('button', null, 'Кнопка');
	}
}
ReactDOM.render(
	<bg-code>e</bg-code>(App), 
	document.getElementById('root')
);
</code></pre></div></div>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Композиция компонентов</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<ul class="list-point">
	<li>Компоненты могут ссылаться на другие компоненты в возвращённом ими дереве. Это позволяет нам использовать одну и ту же абстракцию - компоненты - на любом уровне нашего приложения</li>
</ul>

<pre><code class="js">
function Welcome(props) {
	return &lt;h1&gt;Привет, {props.name}&lt;/h1&gt;;
}
// компонент App может отрендерить компонент Welcome несколько раз
function App() {
	return (
		&lt;div&gt;
			&lt;Welcome name="Алиса" /&gt;
			&lt;Welcome name="Базилио" /&gt;
			&lt;Welcome name="Буратино" /&gt;
		&lt;/div&gt;
	);
}
ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));
</code></pre>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Классовые компоненты с пропсами</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<div class="container-flex"><div class="container-half">
<b>Классовый компонент</b>
<pre><code class="js">
class App extends React.Component {
	<bg-code>render()</bg-code> {
		return (
			&lt;div&gt;
				&lt;Button name="Кнопка" /&gt;
			&lt;/div&gt;
		);
	}
}
class Button extends React.Component {
	<bg-code>render()</bg-code> {
		return &lt;button&gt;{<bg-code>this.props.name</bg-code>}&lt;/button&gt;;
	}
}
ReactDOM.render(
	&lt;App /&gt;, 
	document.getElementById('root')
);
</code></pre>
</div><div class="container-half">
<b>Функциональный компонент</b>
<pre><code class="js">
function App() {
	return (
		&lt;div&gt;
			&lt;Button name="Кнопка" /&gt;
		&lt;/div&gt;
	);
}
function Button(props) {
	return &lt;button&gt;{props.name}&lt;/button&gt;;
}
ReactDOM.render(
	&lt;App /&gt;, 
	document.getElementById('root')
);
</code></pre>
</div></div>

