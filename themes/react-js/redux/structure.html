<h2>Структура</h2>

<bg-link>
	<a href="https://codesandbox.io/s/v8n57owly0" target="_blank">Пример из документации</a>
</bg-link>

<v-two><template v-slot:first>
<pre><code class="bash"><em>
&#10006; redux
	&#10006; reducers
		&#8226; index.js
		&#8226; catalog.js
	&#8226; store.js
	&#8226; actions.js
	&#8226; actionTypes.js
&#8226; App.js
&#8226; index.js
</em></code></pre>
</template><template v-slot:last>
<img src="/img/redux/react-redux-structure.png" width="500px">
</template></v-two>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>INDEX [PROVIDER]</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<!------------------------------------------------------------->
<h4>Providing the Store</h4>
<!------------------------------------------------------------->
<pre><code class="js border"><code-type>index.js</code-type>
import React from "react";
import ReactDOM from "react-dom";

import { <bg-code>Provider</bg-code> } from "react-redux";
import store from "./redux/store";

import App from "./App";

ReactDOM.render(
    &lt;<bg-code>Provider store={store}</bg-code>&gt;
        &lt;App /&gt;
    &lt;/<bg-code>Provider</bg-code>&gt;,
    document.getElementById('root')
);
</code></pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>STORE</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<!------------------------------------------------------------->
<h4>Create Store</h4>
<!------------------------------------------------------------->
<pre><code class="js border"><code-type>redux/store.js</code-type>
import { <bg-code>createStore</bg-code> } from "redux";
import rootReducer from "./reducers";

const ext = window.__REDUX_DEVTOOLS_EXTENSION__;
const devtoolMiddleware = ext && ext();

export default <bg-code>createStore</bg-code>(rootReducer, devtoolMiddleware);
</code></pre>

<!------------------------------------------------------------->
<h4>Combine Reducers</h4>
<!------------------------------------------------------------->
<pre><code class="js border"><code-type>redux/reducers/index.js</code-type>
import { <bg-code>combineReducers</bg-code> } from "redux";
import catalog from "./catalog";

export default <bg-code>combineReducers</bg-code>({
    catalog
});
</code></pre>

<!------------------------------------------------------------->
<h4>Reducer</h4>
<!------------------------------------------------------------->
<pre><code class="js border"><code-type>redux/reducers/catalog.js (custom reducer)</code-type>
import { ADD_PRODUCT } from "../actionTypes";

const initialState = ['Product1', 'Product2']

const catalog = (state = initialState, action) => {
    switch (action.type) {
        case ADD_PRODUCT: {
            <bg-code>return [...state, action.payload.product]</bg-code>;
        }
        default: {
            return state;
        }
    }
};

export default catalog;
</code></pre>

<!------------------------------------------------------------->
<h4>Create Action Types</h4>
<!------------------------------------------------------------->
<pre><code class="js border"><code-type>redux/actionTypes.js</code-type>
export const ADD_PRODUCT = "ADD_PRODUCT";
</code></pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>COMPONENT [CONNECT]</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<!------------------------------------------------------------->
<h4>Connecting the Components</h4>
<!------------------------------------------------------------->
<pre><code class="js border"><code-type>App.js</code-type>
import React, {Component} from "react";
import { <bg-code>connect</bg-code> } from "react-redux";
import { addProduct } from "./redux/actions";

class App extends Component {
	componentDidMount() {
		<bg-code>this.props.add</bg-code>('New Product');
	}
	render() {
		console.log(<bg-code>this.props.catalog</bg-code>);
		// => (2) ["Product1", "Product2"]
		// => (3) ["Product1", "Product2", "New Product"]
		return (&lt;div&gt;&lt;/div&gt;);
	}
}

const mapStateToProps = state =&gt; ({
	<bg-code>catalog: state.catalog</bg-code>
})
const mapDispatchToProps = {
	<bg-code>add: addProduct</bg-code>
}

export default <bg-code>connect</bg-code>(
	mapStateToProps,
	mapDispatchToProps
)(App);
</code></pre>

<!------------------------------------------------------------->
<h4>Create Actions</h4>
<!------------------------------------------------------------->
<pre><code class="js border"><code-type>redux/actions.js</code-type>
import { ADD_PRODUCT } from "./actionTypes";

export const addProduct = product => ({
    <bg-code>type</bg-code>: ADD_PRODUCT,
    <bg-code>payload</bg-code>: { product }
})
</code></pre>
