<h2>Внутренние свойства new Promise(executor)</h2>

<ul class="list-point">
	<b>new Promise(executor)</b>
	<li><u>PromiseState</u>            - состояние (вначале «pending»)</li>
	<li><u>PromiseResult</u>           - результат (при создании значения нет)</li>
	<li><u>PromiseFulfillReactions</u> - список функций-обработчиков успешного выполнения</li>
	<li><u>PromiseRejectReactions</u>  - список функций-обработчиков ошибки</li>	
</ul>

<ul class="list-point">
	<li>1. Когда функция-<u-code>executor</u-code> вызывает reject или resolve, то <u-code>PromiseState</u-code> становится"resolved" или "rejected", а все функции-обработчики из соответствующего списка перемещаются в специальную системную очередь <u-code>"PromiseJobs"</u-code></li>
	<li>2. Все функции-обработчики из очереди <u-code>"PromiseJobs"</u-code> выполняются асинхронно, один за другим, по завершении текущего кода</li>
	<li>3. Исключение из этого правила – если resolve возвращает другой Promise. Тогда дальнейшее выполнение ожидает его результата (в очередь помещается специальная задача), и функции-обработчики выполняются уже с ним</li>
	<li>4. В конце срабатывает общий обработчик <u-code>genericError</u-code>, который перехватывает любые ошибки</li>
</ul>

<pre><code class="js">
// промис выполнится сразу же
var promise = new Promise((resolve, reject) => resolve(1));
promise.then( function f1(result) {
	alert(result); // 1
	return 'f1';
})
promise.then( function f2(result) {
	alert(result); // 1
	return 'f2';
})
// PromiseState            - "resolved"
// PromiseResult           - 1
// PromiseFulfillReactions - [f1, f2]
// PromiseRejectReactions  - [Thrower, Thrower] Thrower – стандартная внутренняя функция, которая автоматически используется, если второй обработчик (reject) не указан

// В примере не используется чейнинг, обработчики добавляются именно на один и тот же промис
// Все функции из списка обработчиков вызываются с результатом промиса, одна за другой
// Никакой передачи результатов между обработчиками в рамках одного промиса нет, а сам результат промиса (PromiseResult) после установки не меняется
</code></pre>
