<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="icon" type="image/png" href="img/favicon.png">
	<link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
<div id="preloader"></div>
<div class="menu-theme-wrapper">
	<div class="menu-theme">
		<a href="#menu">Starter</a>
		<a href="#instruments">Основные инструменты</a>
		<a href="#package">Основные пакеты Gulp</a>
		<a href="#install">Установка Gulp</a>
		<a href="#package-install">Установка основных пакетов</a>
		<a href="#other-package-install">Установка дополнительных пакетов</a>
		<a href="#structure-project">Структура проекта</a>
		<a href="#gulpfile">Gulpfile.js</a>
		<a href="#notes">Примечания</a>
	</div>
</div>
<div id="content">
<div id="menu"></div>
<div id="container">


<h1>Gulp</h1>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="instruments">Основные инструменты</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
<em>Node.js</em> - программная платформа для JavaScript
<em>Npm</em>     - Node.js Package Manager. менеджер пакетов, входящий в состав Node.js
<em>Gulp</em>    - сборщик проектов
<em>Sass</em>    - препроцессор, расширяющий язык CSS
<em>Git</em>     - репозиторий (для Package manager Bower)
</code>
</pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="package">Основные пакеты Gulp</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
1. Sass
2. Autoprefixer 
3. Livereload
4. Оптимизация и изображений
6. Минификация файлов css и js
</code>
</pre>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="install">Установка Gulp и инициализация проекта</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
npm i gulp -g                       - установить gulp глобально
npm init                            - инициализация проета (создание package.json)
npm install                         - установка пакетов из package.json
</code>
</pre>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="package-install">Установка основных пакетов</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
npm i --save-dev <em>gulp</em>                - gulp
npm i --save-dev <em>gulp-sass</em>           - sass
npm i --save-dev <em>gulp-autoprefixer</em>   - autoprefixer
npm i --save-dev <em>browser-sync</em>        - browsersync (livereload)
npm i --save-dev <em>del</em>                 - очистка директорий
npm i --save-dev <em>gulp-cssnano</em>        - минификация CSS
</code>
</pre>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="other-package-install">Установка дополнительных пакетов</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
npm i --save-dev <em>gulp-imagemin</em>       - оптимизация изображений
npm i --save-dev <em>imagemin-pngquant</em>   - оптимизация изображений
npm i --save-dev <em>gulp-cache</em>          - кеширование изображений
npm i --save-dev <em>gulp-uglifyjs</em>       - минификация JS
npm i --save-dev <em>gulp-concat</em>         - конкатинация JS
npm i --save-dev <em>gulp-rename</em>         - конкатинация CSS
</code>
<code class="js">
npm i -g bower                       - установка package manager bower глобально
bower i jquery magnific-popup        - установка библиотек с помощью Bower
</code>
<code class="js">
npm i -g npm-check-updates           - проверка обновлений всех пакетов в package.json
ncu                                  - проверить какие пакеты устарели
ncu -u                               - обновить версию в package.json
npm i name_module                    - обновить модуль name_module
npm r name_module                    - удалить модуль name_module
npm i npm                            - обновление npm
npm up                               - обновить все модули
npm -v                               - проверить версию npm
gulp -v                              - проверить версию gulp
</code>
</pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="structure-project">Структура проекта</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
app          - исходники проекта
dist         - собранный проект в production
common.js    - пользовательские функции
libs.min.js  - все библиотеки
.bowerrc     - файл-инструкция bower (указание пути установки libs)
gulpfile.js  - файл-инструкция 
package.json - манифест проекта 
</code>
</pre>	

<h3>.bowerrc</h3>
<pre>
<code class="js">
1. Создать файл .bowerrc
- c помощью FileZilla
- создав файл .bowerrc. (последняя точка уберется)
2. В файле указать куда устанавливать пакеты с помощью bower
3. Перезапустить командную строку
</code>
</pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="gulpfile">Gulpfile.js</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="css">
<a href="files/gulpfile1.js" download="" target="_blank">Скачать gulpfile.js v.1.0 (small)</a>
<a href="files/gulpfile2.js" download="" target="_blank">Скачать gulpfile.js v.2.0 (full)</a>
</code>
</pre>

<h3>Простой пример task</h3>
<pre>
<code class="js">
var gulp = require('gulp');
gulp.task('mytask', function() {
	console.log('Привет, я таск!');
});
gulp mytask - запуск из консоли
</code>
</pre>	

<h3>Структура task</h3>
<pre>
<code class="js">
var gulp = require('gulp');         // подключение пакета 
gulp.task('mytask', function() {    // инструкция
	gulp.src('source-files') // взяли файлы
	.pipe(plugin())                 // выполнили действие над ними (вызов команды, плагина)
	.pipe(gulp.dest('folder'))      // выгрузили результат работы плагина (только папка)
});
</code>
</pre>	

<h3>Аргументы task</h3>
<pre>
<code class="js">
task
	'' - название таска
	[] - таски, которые необходимо выполнить до запуска таска
	function - функция
</code>
</pre>	

<h3>Выбор файлов по шаблону</h3>
<pre>
<code class="js">
return gulp.src();
	'app/sass/main.scss'                           - выбрать конкретный файл
	'app/sass/*.scss'                              - выбрать все файлы из директории
	'app/sass/**/*.scss'                           - выбрать все файлы включая поддиректории
	'!app/sass/main.scss'                          - файл исключится из выборки
	['!app/sass/main.scss', 'app/sass/**/*.scss']) - указание нескольких условий
	'app/sass/*.+(scss|sass)'                      - выбрать все файлы scss и sass из директории
</code>
</pre>	

<h3>Дефолтный таск</h3>
<pre>
<code class="js">
gulp.task('default', ['watch']);
gulp - запуск из консоли
</code>
</pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="notes">Примечания</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<pre>
<code class="js">
1. В пути проекта (терминала) не должно быть русскоязычных папок
   Многие gulp пакеты не понимают русскоязычных путей
2. Запуск командной строки в директории проекта (shift+пкм)
3. После изменения gulpfile.js, нужно перезапускать сервер 
   gulp watch
4. В командной строке ctrl+c 2 раза - выйти из watch
</code>
</pre>	

<pre>
<code class="js">
Файлы из папки sass с нижним подчеркиванием
_part.scss не участвуют в компиляции, их можно добавить только через import в другой sass файл
@import "part"
при этом можно не указывать нижнее подчеркивание и расширение.
</code>
</pre>	

<pre>
<code class="js">
При импорте css файла в sass не нужно писать расширение у css
@import "app/libs/magnific-popup/dist/magnific-popup";
</code>
</pre>

<pre>
<code class="js">
gulp vinyl-ftp загрузка на сервер
</code>
</pre>

Sublime Text 
<pre>
<code class="js">
CTRL+SHIFT+P (Package Control) -> Install Package -> SCSS
</code>
</pre>



</div>
</div>
    <script src="libraries/jquery.js"></script>
	<script src="libraries/highlight/highlight.pack.js"></script>
	<script src="module/scroll_up/scrollUp.js"></script>
	<script src="js/main.js"></script>
	<script src="module/preloader/preloader.js"></script>
	<script src="module/scroll_up/script.js"></script>
</body>
</html>