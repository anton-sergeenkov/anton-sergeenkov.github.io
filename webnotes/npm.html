<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="icon" type="image/png" href="img/favicon.png">
	<link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
<div id="container">
<div id="menu-left">
	<div id="menu-left-starter">
		<div id="menu-left-show"></div>
		<a href="#menu-top">Starter</a>
	</div>

	<div class="theme">NPM</div>
	<a href="#npm-instruments">Инструменты</a>
	<a href="#npm-command">Команды</a>
	<a href="#npm-shortcut">Сокращения</a>
	<a href="#npm-structure">Структура проекта</a>
	<a href="#npm-package-json">package.json</a>

	<div class="theme">Gulp</div>
	<a href="#package-install">Основные пакеты Gulp</a>
	<a href="#other-package-install">Дополнительные пакеты Gulp</a>
	<a href="#structure-project">Структура проекта</a>
	<a href="#gulpfile">Gulpfile.js</a>
	<a href="#notes">Примечания</a>
</div>
<div id="content-wrapper">
<div id="menu-top"></div>
<div id="content">


<h1>NPM</h1>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="npm-instruments">Инструменты</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre><code class="bash">
<em>Node.js</em>        # программная платформа для JavaScript
<em>Npm</em>            # Node.js Package Manager. менеджер пакетов, входящий в состав Node.js
<em>Webpack / Gulp</em> # сборщики проектов
<em>Git</em>            # репозиторий (установка для Package manager Bower)
</code></pre>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="npm-command">Команды</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre><code class="bash">
npm <bg-code>init</bg-code>                 # инициализация проекта (создание package.json)
npm <bg-code>i</bg-code>                    # установить все пакеты из package.json
npm <bg-code>up</bg-code>                   # обновить все пакеты из package.json
npm <bg-code>i</bg-code> package            # установить package (не должен добавляться в package.json)
npm <bg-code>i --save</bg-code> package     # установить package и добавить запись в секцию dependencies package.json 
npm <bg-code>i --save-dev</bg-code> package # установить package и добавить запись в секцию devDependencies package.json
npm <bg-code>i --g</bg-code> package        # установить package глобально
npm <bg-code>r</bg-code> package            # удалить package
npm <bg-code>up</bg-code> package           # обновить package
npm <bg-code>run</bg-code> package          # запустить package
</code></pre>

<ul class="list-point">
	<li><em>devDependencies</em> - пакеты, которые нужны для разработки</li>
	<li><em>dependencies</em> - пакеты, от которых проект зависит непосредственно (библиотеки)</li>
	<li><em>devDependencies</em> и <em>dependencies</em> - устанавливаются в node_modules</li>
	<li>При вызове <em>npm install</em>, npm установит пакеты указанные в dependencies, но не в devDependencies</li>
	<li>Если сделать <em>npm install</em> внутри папки, в которой есть package.json, то установятся и те, и другие</li>
</ul>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="npm-shortcut">Сокращения</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<div class="container-flex"><div class="container-half"><pre><code class="bash">
npm install package
npm uninstall package
npm update package
npm install package --save
npm install package --save-dev
</code></pre></div><div class="container-half"><pre><code class="bash">
npm i package
npm r package
npm up package
npm i package S
npm i package D
</code></pre></div></div>

<pre><code class="bash">
c   # config
ls  # list
</code></pre>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="npm-package-json">package.json</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<pre><code class="bash">
npm init
npm i --save-dev http-server
npm run http-server
</code></pre>

<pre><code class="json">
{
	"scripts": {
		"http-server": "./node_modules/http-server/bin/http-server",
		"test": "echo \"Error: no test specified\" && exit 1"
	}
}
</code></pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="npm-structure">Структура проекта</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre><code class="bash"><em>
&#8226; package.json      # описание зависимостей и информации о проекте
&#8226; package-lock.json # описание зависимостей со строго зафиксированной версией, чтобы окружение у разных разработчиков было одинаковое
</em></code></pre>


<h1>Gulp</h1>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="package-install">Основные пакеты Gulp</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre><code class="bash">
npm i <em>gulp</em> -g                       # установить gulp глобально
</code></pre>

<pre><code class="bash">
npm i --save-dev <em>gulp</em>                # gulp
npm i --save-dev <em>gulp-sass</em>           # sass
npm i --save-dev <em>gulp-autoprefixer</em>   # autoprefixer
npm i --save-dev <em>browser-sync</em>        # browsersync (livereload)
npm i --save-dev <em>del</em>                 # очистка директорий
npm i --save-dev <em>gulp-cssnano</em>        # минификация CSS
</code></pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="other-package-install">Дополнительные пакеты Gulp</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
npm i --save-dev <em>gulp-imagemin</em>       - оптимизация изображений
npm i --save-dev <em>imagemin-pngquant</em>   - оптимизация изображений
npm i --save-dev <em>gulp-cache</em>          - кеширование изображений
npm i --save-dev <em>gulp-uglifyjs</em>       - минификация JS
npm i --save-dev <em>gulp-concat</em>         - конкатинация JS
npm i --save-dev <em>gulp-rename</em>         - конкатинация CSS
</code>
<code class="js">
npm i -g bower                       - установка package manager bower глобально
bower i jquery magnific-popup        - установка библиотек с помощью Bower
</code>
<code class="js">
npm i -g npm-check-updates           - проверка обновлений всех пакетов в package.json
ncu                                  - проверить какие пакеты устарели
ncu -u                               - обновить версию в package.json
npm i name_module                    - обновить модуль name_module
npm r name_module                    - удалить модуль name_module
npm i npm                            - обновление npm
npm up                               - обновить все модули
npm -v                               - проверить версию npm
gulp -v                              - проверить версию gulp
</code>
</pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="structure-project">Структура проекта</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="js">
app          - исходники проекта
dist         - собранный проект в production
common.js    - пользовательские функции
libs.min.js  - все библиотеки
.bowerrc     - файл-инструкция bower (указание пути установки libs)
gulpfile.js  - файл-инструкция 
package.json - манифест проекта 
</code>
</pre>	

<h3>.bowerrc</h3>
<pre>
<code class="js">
1. Создать файл .bowerrc
- c помощью FileZilla
- создав файл .bowerrc. (последняя точка уберется)
2. В файле указать куда устанавливать пакеты с помощью bower
3. Перезапустить командную строку
</code>
</pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="gulpfile">Gulpfile.js</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre>
<code class="plaintext">
<a href="files/gulpfile1.js" download="" target="_blank">Скачать gulpfile.js v.1.0 (small)</a>
<a href="files/gulpfile2.js" download="" target="_blank">Скачать gulpfile.js v.2.0 (full)</a>
</code>
</pre>

<h3>Простой пример task</h3>
<pre>
<code class="js">
var gulp = require('gulp');
gulp.task('mytask', function() {
	console.log('Привет, я таск!');
});
gulp mytask - запуск из консоли
</code>
</pre>	

<h3>Структура task</h3>
<pre>
<code class="js">
var gulp = require('gulp');         // подключение пакета 
gulp.task('mytask', function() {    // инструкция
	gulp.src('source-files') // взяли файлы
	.pipe(plugin())                 // выполнили действие над ними (вызов команды, плагина)
	.pipe(gulp.dest('folder'))      // выгрузили результат работы плагина (только папка)
});
</code>
</pre>	

<h3>Аргументы task</h3>
<pre>
<code class="js">
task
	'' - название таска
	[] - таски, которые необходимо выполнить до запуска таска
	function - функция
</code>
</pre>	

<h3>Выбор файлов по шаблону</h3>
<pre>
<code class="js">
return gulp.src();
	'app/sass/main.scss'                           - выбрать конкретный файл
	'app/sass/*.scss'                              - выбрать все файлы из директории
	'app/sass/**/*.scss'                           - выбрать все файлы включая поддиректории
	'!app/sass/main.scss'                          - файл исключится из выборки
	['!app/sass/main.scss', 'app/sass/**/*.scss']) - указание нескольких условий
	'app/sass/*.+(scss|sass)'                      - выбрать все файлы scss и sass из директории
</code>
</pre>	

<h3>Дефолтный таск</h3>
<pre>
<code class="js">
gulp.task('default', ['watch']);
gulp - запуск из консоли
</code>
</pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h2 id="notes">Примечания</h2>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<pre>
<code class="js">
1. В пути проекта (терминала) не должно быть русскоязычных папок
   Многие gulp пакеты не понимают русскоязычных путей
2. Запуск командной строки в директории проекта (shift+пкм)
3. После изменения gulpfile.js, нужно перезапускать сервер 
   gulp watch
4. В командной строке ctrl+c 2 раза - выйти из watch
</code>
</pre>	

<pre>
<code class="js">
Файлы из папки sass с нижним подчеркиванием
_part.scss не участвуют в компиляции, их можно добавить только через import в другой sass файл
@import "part"
при этом можно не указывать нижнее подчеркивание и расширение.
</code>
</pre>	

<pre>
<code class="js">
При импорте css файла в sass не нужно писать расширение у css
@import "app/libs/magnific-popup/dist/magnific-popup";
</code>
</pre>

<pre>
<code class="js">
gulp vinyl-ftp загрузка на сервер
</code>
</pre>

Sublime Text 
<pre>
<code class="js">
CTRL+SHIFT+P (Package Control) -> Install Package -> SCSS
</code>
</pre>



</div>
</div>
</div>
	<div id="preloader"></div>
    <script src="libraries/jquery.js"></script>
	<script src="libraries/highlight/highlight.pack.js"></script>
	<script src="js/main.js"></script>
	<script src="module/preloader/preloader.js"></script>
</body>
</html>
